package com.zfsoft.microservice.platform.dbaccess.dao.sys;

import com.zfsoft.microservice.platform.dbaccess.data.sys.DbSysLogin;
import com.zfsoft.microservice.platform.dbaccess.data.sys.DbSysLoginExample;
import com.zfsoft.microservice.platform.dbaccess.vo.DbSysLoginVo;
import org.apache.ibatis.annotations.Mapper;
import org.apache.ibatis.annotations.Param;
import org.apache.ibatis.annotations.ResultMap;
import org.apache.ibatis.annotations.Select;

import java.util.List;
@Mapper
public interface DbSysLoginMapper {
    /**
     * This method was generated by MyBatis Generator.
     * This method corresponds to the database table t_sys_login
     *
     * @mbggenerated
     */
    int countByExample(DbSysLoginExample example);

    /**
     * This method was generated by MyBatis Generator.
     * This method corresponds to the database table t_sys_login
     *
     * @mbggenerated
     */
    int deleteByExample(DbSysLoginExample example);

    /**
     * This method was generated by MyBatis Generator.
     * This method corresponds to the database table t_sys_login
     *
     * @mbggenerated
     */
    int deleteByPrimaryKey(Long id);

    /**
     * This method was generated by MyBatis Generator.
     * This method corresponds to the database table t_sys_login
     *
     * @mbggenerated
     */
    int insert(DbSysLogin record);

    /**
     * This method was generated by MyBatis Generator.
     * This method corresponds to the database table t_sys_login
     *
     * @mbggenerated
     */
    int insertSelective(DbSysLogin record);

    /**
     * This method was generated by MyBatis Generator.
     * This method corresponds to the database table t_sys_login
     *
     * @mbggenerated
     */
    List<DbSysLogin> selectByExample(DbSysLoginExample example);

    /**
     * This method was generated by MyBatis Generator.
     * This method corresponds to the database table t_sys_login
     *
     * @mbggenerated
     */
    DbSysLogin selectByPrimaryKey(Long id);

    /**
     * This method was generated by MyBatis Generator.
     * This method corresponds to the database table t_sys_login
     *
     * @mbggenerated
     */
    int updateByExampleSelective(@Param("record") DbSysLogin record, @Param("example") DbSysLoginExample example);

    /**
     * This method was generated by MyBatis Generator.
     * This method corresponds to the database table t_sys_login
     *
     * @mbggenerated
     */
    int updateByExample(@Param("record") DbSysLogin record, @Param("example") DbSysLoginExample example);

    /**
     * This method was generated by MyBatis Generator.
     * This method corresponds to the database table t_sys_login
     *
     * @mbggenerated
     */
    int updateByPrimaryKeySelective(DbSysLogin record);

    /**
     * This method was generated by MyBatis Generator.
     * This method corresponds to the database table t_sys_login
     *
     * @mbggenerated
     */
    int updateByPrimaryKey(DbSysLogin record);

    /**
     * 根据用户查询登录信息
     * @author zxx
     * @date 2020/9/15 4:26 下午
     * @param userOid 用户主键
     * @return
     */
    @Select({
            "select",
            "ID,LOGIN_OID, USER_OID, ACCOUNT, PASSWORD, NAME, FAIL_NUM, LOCK_STATUS, IS_ABLE, IS_DELETE, ",
            "LOCK_DATE, MODIFY_DATE",
            "from t_sys_login",
            "where USER_OID = #{userOid,jdbcType=VARCHAR}"
    })
    @ResultMap("BaseResultMap")
    DbSysLogin selectByUserOid(String userOid);

    /**
     * @description: 根据主键查询DbSysLoginVo
     * @param id 主键
     * @author: wuxx
     * @Date: 2020/9/23 14:35
     **/
    DbSysLoginVo selectDbSysLoginVoByPrimaryKey(Long id);

    /**
     * @description:  登录管理列表的查询vo
     * @author: wuxx
     * @Date: 2020/9/23 13:16
     **/
    List<DbSysLoginVo> selectByDbSysLoginVo(DbSysLoginVo dbSysLoginVo);



    /**
     * 根据业务主键查询登录信息
     * @author wuxx
     * @date 2020/10/31 4:26 下午
     * @param loginOid 用户主键
     * @return
     */
    @Select({
            "select",
            "ID,LOGIN_OID, USER_OID, ACCOUNT, PASSWORD, NAME, FAIL_NUM, LOCK_STATUS, IS_ABLE, IS_DELETE, ",
            "LOCK_DATE, MODIFY_DATE",
            "from t_sys_login",
            "where IS_ABLE=1 and IS_DELETE=0 and LOGIN_OID = #{loginOid,jdbcType=VARCHAR}"
    })
    @ResultMap("BaseResultMap")
    DbSysLogin selectByLoginOid(String loginOid);
}