package com.zfsoft.microservice.platform.dbaccess.dao.sys;

import com.zfsoft.microservice.platform.dbaccess.data.sys.DbSysLoginRole;
import com.zfsoft.microservice.platform.dbaccess.data.sys.DbSysLoginRoleExample;
import com.zfsoft.microservice.platform.dbaccess.vo.DBSysLoginRoleVo;
import org.apache.ibatis.annotations.Delete;
import org.apache.ibatis.annotations.Mapper;
import org.apache.ibatis.annotations.Param;

import java.util.List;
@Mapper
public interface DbSysLoginRoleMapper {
    /**
     * This method was generated by MyBatis Generator.
     * This method corresponds to the database table t_sys_login_role
     *
     * @mbggenerated
     */
    int countByExample(DbSysLoginRoleExample example);

    /**
     * This method was generated by MyBatis Generator.
     * This method corresponds to the database table t_sys_login_role
     *
     * @mbggenerated
     */
    int deleteByExample(DbSysLoginRoleExample example);

    /**
     * This method was generated by MyBatis Generator.
     * This method corresponds to the database table t_sys_login_role
     *
     * @mbggenerated
     */
    int deleteByPrimaryKey(Long id);

    /**
     * This method was generated by MyBatis Generator.
     * This method corresponds to the database table t_sys_login_role
     *
     * @mbggenerated
     */
    int insert(DbSysLoginRole record);

    /**
     * This method was generated by MyBatis Generator.
     * This method corresponds to the database table t_sys_login_role
     *
     * @mbggenerated
     */
    int insertSelective(DbSysLoginRole record);

    /**
     * This method was generated by MyBatis Generator.
     * This method corresponds to the database table t_sys_login_role
     *
     * @mbggenerated
     */
    List<DbSysLoginRole> selectByExample(DbSysLoginRoleExample example);

    /**
     * This method was generated by MyBatis Generator.
     * This method corresponds to the database table t_sys_login_role
     *
     * @mbggenerated
     */
    DbSysLoginRole selectByPrimaryKey(Long id);

    /**
     * This method was generated by MyBatis Generator.
     * This method corresponds to the database table t_sys_login_role
     *
     * @mbggenerated
     */
    int updateByExampleSelective(@Param("record") DbSysLoginRole record, @Param("example") DbSysLoginRoleExample example);

    /**
     * This method was generated by MyBatis Generator.
     * This method corresponds to the database table t_sys_login_role
     *
     * @mbggenerated
     */
    int updateByExample(@Param("record") DbSysLoginRole record, @Param("example") DbSysLoginRoleExample example);

    /**
     * This method was generated by MyBatis Generator.
     * This method corresponds to the database table t_sys_login_role
     *
     * @mbggenerated
     */
    int updateByPrimaryKeySelective(DbSysLoginRole record);

    /**
     * This method was generated by MyBatis Generator.
     * This method corresponds to the database table t_sys_login_role
     *
     * @mbggenerated
     */
    int updateByPrimaryKey(DbSysLoginRole record);

    /**
     * @description:  根据登录oid查询所属角色
     * @author: wuxx
     * @Date: 2020/9/23 15:19
     **/
    List<DBSysLoginRoleVo> selectByDBSysLoginRoleVo(String loginOid);


    /**
     * @description: 根据登录oid获取未删除未禁用的角色role列表
     * @param loginOid 登录oid
     * @author: wuxx
     * @Date: 2020/11/16 10:31
     **/
    List<DbSysLoginRole> querySysLoginRoleByLoginOid(String loginOid);


    /**
     * 根据登录删除登录角色
     * @author zxx
     * @date 2020/9/15 10:02 上午
     * @param loginOid 登录主键
     * @return
     */
    @Delete({
            "delete from t_sys_login_role",
            "where LOGIN_OID = #{loginOid,jdbcType=VARCHAR}"
    })
    int deleteByLoginOid(String loginOid);

    /**
     * 根据角色删除登录主键
     * @author zxx
     * @date 2020/9/15 10:02 上午
     * @param roleOid 角色主键
     * @return
     */
    @Delete({
            "delete from t_sys_login_role",
            "where ROLE_OID = #{roleOid,jdbcType=VARCHAR}"
    })
    int deleteByRoleOid(String roleOid);

    /**
     * @description:  判断当前角色是否有用户角色已经存在
     * @param roleOid 角色oid
     * @author: wuxx
     * @Date: 2020/11/12 17:13
     **/
    int checkUserByRoleOid(@Param(value = "roleOid") String roleOid,@Param(value = "ableFlag") String ableFlag);
}